<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 11. 배열 렌더링하기 -->

    <!-- 
        리액트에서 배열 렌더링하기

        1. (비효율적이지만)그냥 코드 작성하기
        2. 재사용할수 있도록 컴포넌트 만들어주기. 
        한 파일에는 여러개의 컴포넌트르 선언해도 괜찮다. 
        <User user={users[0]}/>
        => User(컴포넌트)에 user라는 props를 받게 하고 각 컴포넌트에 users(배열)의 객체를 정해준다

        배열이 고정적이라면 상관없지만 인덱스를 조회하며 렌더링하는 것은 동적인 배열을 렌더링 할 수 없다. 
        동적인 배열을 렌더링 해야 할때는 자바스크립트 배열의 내장함수 map()을 사용한다.
        **map 함수
        : 배열 안의 각 원소를 변환할때 사용되고 이 과정에서 새로운 배열이 만들어진다. map 함수의 파라미터로는 변화를 주는 함수를 전달해준다(=변화함수) 변화함수는 내부의 모든 값에 대하여 작동한다. 

        리액트에서 동적인 배열을 렌더링 해야 할때는 이함수를 사용하여 일반 데이터 배열을 리액트 엘리먼트로 이루어진 배열로 변환해준다.
        
        3. map 함수 사용하기

        리액트에서 배열을 렌더링할대는 Key라는 props를 설정해야한다. key값은 각 원소들마다 가지고 있는 고유값으로 설정을 해야한다(=지금은 id가 고유값)
        만약 배열 안의 원소가 가지고 있는 고유한 값이 없다면 map()함수를 사용할때 설정하는 콜백함수의 두번째 파라미터 index를 key로 사용하면 된다. 

        <div>
            {users.map((user, index) => (
                <User user={user} key={index} />
            ))}
        </div>

        각 고유 원소에 key값이 있어야만 배열이 업데이트 될때 효율적으로 렌더링 되기 때문이다. 

        @ key의 존재유무에 따른 업데이트 방식
        * 배열에 key값이 없다면 리렌더링시에 전체적인 변화가 일어나지만
        ex) a, b, c, d <= b와 c 사이에 z 삽입
        a > a
        b > b
        c > z
        d > c
        '' > d
        => 사이에 추가되는것이 아니라 기존의 값이 변경되고 마지막에 값이 추가됨

        a, b, z, c, d <= a를 제거
        a > b
        b > z
        z > c
        c > d
        d > 제거

        * 배열에 key값이 있다면 
        array.map(item => <div key={item.id}>{item.text}</div>);

        수정되지 않는 기존값은 그대로 두고 원하는 곳에 내용을 삽입하거나 삭제함. 

        따라서 배열을 렌더링할대는 고유한 key값이 있는 것이 중요하며 중복되는 key 값이 있을때에는 오류메시지가 콘솔에 나타나고 업데이트가 제대로 되지 않는다. 
     -->
</body>
</html>